# Migration `20201221081544-initial`

This migration has been generated by ruperteb at 12/21/2020, 10:15:44 AM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
CREATE TABLE "Property" (
"propertyId" SERIAL,
    "propertyName" TEXT NOT NULL,
    "address" TEXT NOT NULL,
    "suburb" TEXT NOT NULL,
    "coordinates" TEXT NOT NULL,
    "earliestOccupation" TIMESTAMP(3) NOT NULL,
    "earliestExpiry" TIMESTAMP(3) NOT NULL,
    "erfExtent" INTEGER NOT NULL,
    "totalGLA" INTEGER NOT NULL,
    "vacantArea" INTEGER NOT NULL,
    "buildingType" TEXT NOT NULL,
    "province" TEXT NOT NULL,
    "region" TEXT NOT NULL,
    "notes" TEXT NOT NULL,

    PRIMARY KEY ("propertyId")
)

CREATE TABLE "Premises" (
"premisesId" SERIAL,
    "floor" TEXT NOT NULL,
    "area" INTEGER NOT NULL,
    "vacant" TEXT NOT NULL,
    "type" TEXT NOT NULL,
    "occupation" TIMESTAMP(3) NOT NULL,
    "premisesNotes" TEXT NOT NULL,
    "netRental" INTEGER NOT NULL,
    "opCosts" INTEGER NOT NULL,
    "other" INTEGER NOT NULL,
    "grossRental" INTEGER NOT NULL,
    "esc" INTEGER NOT NULL,
    "openBays" INTEGER NOT NULL,
    "openRate" INTEGER NOT NULL,
    "coveredBays" INTEGER NOT NULL,
    "coveredRate" INTEGER NOT NULL,
    "shadedBays" INTEGER NOT NULL,
    "shadedRate" INTEGER NOT NULL,
    "parkingRatio" INTEGER NOT NULL,
    "tenantName" TEXT NOT NULL,
    "leaseExpiry" TIMESTAMP(3) NOT NULL,
    "tenantNotes" TEXT NOT NULL,
    "yard" INTEGER NOT NULL,
    "height" INTEGER NOT NULL,
    "doors" INTEGER NOT NULL,
    "loading" TEXT NOT NULL,
    "sprinklered" TEXT NOT NULL,
    "canopies" TEXT NOT NULL,
    "power" TEXT NOT NULL,
    "propertyId" INTEGER NOT NULL,

    PRIMARY KEY ("premisesId")
)

CREATE TABLE "User" (
"id" SERIAL,
    "name" TEXT NOT NULL,
    "email" TEXT NOT NULL,
    "password" TEXT NOT NULL,

    PRIMARY KEY ("id")
)

CREATE UNIQUE INDEX "User.email_unique" ON "User"("email")

ALTER TABLE "Premises" ADD FOREIGN KEY("propertyId")REFERENCES "Property"("propertyId") ON DELETE CASCADE ON UPDATE CASCADE
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration ..20201221081544-initial
--- datamodel.dml
+++ datamodel.dml
@@ -1,0 +1,83 @@
+// 1
+
+// datasource db {
+//  provider = "sqlite"
+//  url = "***"
+//}
+
+datasource db {
+  provider = "postgresql"
+  url = "***"
+}
+
+// 2
+generator client {
+  provider = "prisma-client-js"
+}
+
+// 3
+model Property {
+  propertyId Int @id @default(autoincrement())
+
+  propertyName       String
+  address            String
+  suburb             String
+  coordinates        String
+  earliestOccupation DateTime
+  earliestExpiry     DateTime
+  erfExtent          Int
+  totalGLA           Int
+  vacantArea         Int
+  buildingType       String
+  province           String
+  region             String
+  notes              String
+
+  premisesList Premises[]
+
+
+}
+
+model Premises {
+  premisesId Int @id @default(autoincrement())
+
+  floor         String
+  area          Int
+  vacant        String
+  type          String
+  occupation    DateTime
+  premisesNotes String
+  netRental     Int
+  opCosts       Int
+  other         Int
+  grossRental   Int
+  esc           Int
+  openBays      Int
+  openRate      Int
+  coveredBays   Int
+  coveredRate   Int
+  shadedBays    Int
+  shadedRate    Int
+  parkingRatio  Int
+  tenantName    String
+  leaseExpiry   DateTime
+  tenantNotes   String
+  yard          Int
+  height        Int
+  doors         Int
+  loading       String
+  sprinklered   String
+  canopies      String
+  power         String
+
+  propertyName Property @relation(fields: [propertyId], references: [propertyId])
+  propertyId   Int
+}
+
+model User {
+  id       Int    @id @default(autoincrement())
+  name     String
+  email    String @unique
+  password String
+
+}
```


